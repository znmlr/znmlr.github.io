---
title: "第08章 定义函数"
date: 2022-09-26T21:56:38+08:00
draft: false
weight: 8
---

- 当按值传递数组时，决不应该指定维数，那样只会让人产生错误的期待
- `const std::string &`的缺点
```cpp
void test(const std::string & v);
...
test("abc");
```
上述编译没有问题，因为执行了隐式类型转换。如果这是我们不想要的话，应该用更先进的
- `std::string_view`
```cpp
void test(std::string v);
...
test("abc");///不合法
std::string name {"hello"};
test(name);/// 合法
```
- 类型推断
`auto`不会推断为一个引用类型，而总是推断为一个值类型，并且这个值的副本不是`const`。如果有需要可以使用`auto &`或者`const auto &`
- `std::optional`
用来替代默认值，表示可选参数或者可选返回值
- 使用`using`代替`typedef`